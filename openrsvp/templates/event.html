{% extends "base.html" %}
{% block content %}
<div class="row">
  <div class="col-lg-8">
    <h2>{{ event.title }}</h2>
    <p class="text-muted">{{ event.start_time.strftime('%Y-%m-%d %H:%M') }} · {{ event.location or 'Location TBD' }}</p>
    {% if event.channel %}
    <div class="mb-3">
      {% if event.channel.visibility == 'private' %}
      <span class="badge bg-dark me-2">Private Channel</span>
      {% else %}
      <span class="badge bg-primary me-2">Public Channel</span>
      {% endif %}
      <a href="/channel/{{ event.channel.slug }}" class="fw-semibold text-decoration-none">{{ event.channel.name }}</a>
    </div>
    {% endif %}
    <p>{{ event.description or 'No description provided.' }}</p>
    <div class="mb-4">
      <a class="btn btn-success" href="/e/{{ event.id }}/rsvp">Submit RSVP</a>
    </div>
    <h3 class="h5">Attendees</h3>
    {% if rsvps %}
      <ul class="list-group">
        {% for rsvp in rsvps %}
        <li class="list-group-item">
          <strong>{{ rsvp.name }}</strong>
          <span class="badge bg-secondary ms-2 text-uppercase">{{ rsvp.status }}</span>
          {% if rsvp.pronouns %}<span class="text-muted ms-2">({{ rsvp.pronouns }})</span>{% endif %}
          <div class="small text-muted">Guests: {{ rsvp.guest_count }}{% if rsvp.notes %} · Notes: {{ rsvp.notes }}{% endif %}</div>
        </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-muted">No RSVPs yet. Be the first!</p>
    {% endif %}
  </div>
</div>
{% endblock %}
