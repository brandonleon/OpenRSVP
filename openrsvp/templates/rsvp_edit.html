{% extends "base.html" %}
{% block content %}
<h2>Manage RSVP for {{ event.title }}</h2>
{% if message %}<div class="alert alert-success">{{ message }}</div>{% endif %}
<form method="post" action="/e/{{ event.id }}/rsvp/{{ rsvp.rsvp_token }}" class="mt-3">
  <div class="mb-3">
    <label class="form-label">Name</label>
    <input type="text" name="name" class="form-control" value="{{ rsvp.name }}" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Pronouns</label>
    <input type="text" name="pronouns" class="form-control" value="{{ rsvp.pronouns or '' }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Status</label>
    <select name="status" class="form-select">
      <option value="yes" {% if rsvp.status == 'yes' %}selected{% endif %}>Yes</option>
      <option value="no" {% if rsvp.status == 'no' %}selected{% endif %}>No</option>
      <option value="maybe" {% if rsvp.status == 'maybe' %}selected{% endif %}>Maybe</option>
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Guest Count</label>
    <input type="number" name="guest_count" min="0" max="5" class="form-control" value="{{ rsvp.guest_count }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Notes</label>
    <textarea name="notes" class="form-control" rows="3">{{ rsvp.notes or '' }}</textarea>
  </div>
  <button class="btn btn-primary" type="submit">Save Changes</button>
</form>
{% endblock %}
