{% extends "base.html" %}
{% set title = "Help" %}
{% block content %}
<section class="hero-panel p-4 p-md-5 rounded-4 text-white mb-4">
  <div class="row align-items-center g-4">
    <div class="col-lg-7">
      <p class="text-uppercase small mb-2 fw-semibold text-secondary" style="letter-spacing: 0.08em;">How OpenRSVP Works</p>
      <h1 class="display-6 fw-semibold mb-3">Magic links, zero accounts, privacy-kept events.</h1>
      <p class="mb-4 lead text-secondary">OpenRSVP is designed for communities that want effortless invites without giving up control of their data. Themes and saved keys stay on your device only.</p>
      <div class="d-flex flex-wrap gap-2">
        <span class="badge bg-light text-dark">Capability tokens only</span>
        <span class="badge bg-light text-dark">Hosts can’t edit guest RSVPs</span>
        <span class="badge bg-light text-dark">Optional RSVP approvals</span>
        <span class="badge bg-light text-dark">Automatic decay cycles</span>
        <span class="badge bg-light text-dark">Catppuccin themes</span>
      </div>
    </div>
    <div class="col-lg-5">
      <div class="bg-dark border border-secondary rounded-3 p-4 h-100">
        <h2 class="h5 text-white mb-3">Quick start</h2>
        <ol class="text-secondary small ps-3 mb-4">
          <li>Create an event, pick a channel (optional), and set privacy.</li>
          <li>Share the public link. Guests get a one-time RSVP token after submitting.</li>
          <li>Keep the admin link private; hosts cannot impersonate guests.</li>
          <li>Use Preferences to pick a theme or forget saved magic links.</li>
        </ol>
        <div class="d-flex flex-wrap gap-2">
          <a class="btn btn-primary" href="/event/create">Create an event</a>
          <a class="btn btn-outline-light" href="/">Back to events</a>
        </div>
      </div>
    </div>
  </div>
</section>

<div class="row g-3 mb-4">
  <div class="col-lg-4 col-md-6">
    <div class="p-3 bg-white shadow-sm border rounded-3 h-100">
      <h3 class="h6 text-uppercase text-muted mb-2">Creating events</h3>
      <ul class="mb-0 text-secondary small ps-3">
        <li>Channels are optional. Use them to group events for a community.</li>
        <li>Suggestions appear as you type; picking one reuses that channel.</li>
        <li>Start/end times respect viewer timezones; durations render automatically.</li>
        <li>Private events stay hidden even if the channel is public.</li>
        <li>Descriptions support basic Markdown for richer details.</li>
        <li>Toggle “Require admin approval for new RSVPs” if you want to approve guests before they show up.</li>
        <li>Use “Close RSVPs” to pause new submissions or set an auto-close time that flips the toggle for you.</li>
      </ul>
    </div>
  </div>
  <div class="col-lg-4 col-md-6">
    <div class="p-3 bg-white shadow-sm border rounded-3 h-100">
      <h3 class="h6 text-uppercase text-muted mb-2">Channels & visibility</h3>
      <ul class="mb-0 text-secondary small ps-3">
        <li><strong>Public channels</strong> show up on the homepage and at <code>/channel/&lt;slug&gt;</code>.</li>
        <li><strong>Private channels</strong> are hidden; only people with the slug can view <code>/channel/p/&lt;slug&gt;</code>.</li>
        <li>Public events inside private channels hide the channel badge to protect the slug.</li>
        <li>Channel privacy never overrides an event’s own privacy.</li>
      </ul>
    </div>
  </div>
  <div class="col-lg-4 col-md-6">
    <div class="p-3 bg-white shadow-sm border rounded-3 h-100">
      <h3 class="h6 text-uppercase text-muted mb-2">Channel Naming tips</h3>
      <ul class="mb-0 text-secondary small ps-3">
        <li>Names automatically become web-safe links: we lowercase them and swap spaces or punctuation for hyphens.</li>
        <li>Avoid generic names to prevent collisions—add city or group hints.</li>
        <li>Private channel slugs are the secret; share them carefully.</li>
      </ul>
    </div>
  </div>
</div>

<div class="row g-3 mb-4">
  <div class="col-lg-4 col-md-6">
    <div class="p-3 bg-white shadow-sm border rounded-3 h-100">
      <h3 class="h6 text-uppercase text-muted mb-2">RSVP privacy controls</h3>
      <ul class="mb-0 text-secondary small ps-3">
        <li>Guests can hide their RSVP from the public list; organizers still see it.</li>
        <li>Each submission returns a magic link to edit, toggle privacy, or delete.</li>
        <li>Public counters show total visible guests; private RSVP counts are summarized.</li>
        <li>When approval is required, new RSVPs start as pending until the host approves or rejects them.</li>
        <li>When approval is required, the event location stays hidden until a Yes RSVP is approved.</li>
      </ul>
    </div>
  </div>
  <div class="col-lg-4 col-md-6">
    <div class="p-3 bg-white shadow-sm border rounded-3 h-100">
      <h3 class="h6 text-uppercase text-muted mb-2">Magic links & storage</h3>
      <ul class="mb-0 text-secondary small ps-3">
        <li>Magic links are shown once and can be copied with inline buttons.</li>
        <li>Your browser can remember admin/RSVP keys locally to surface “Open Admin” or “Edit your RSVP.”</li>
        <li>Clear saved keys anytime from Preferences or via “Forget this key” on event/RSVP pages.</li>
      </ul>
    </div>
  </div>
  <div class="col-lg-4 col-md-6">
    <div class="p-3 bg-white shadow-sm border rounded-3 h-100">
      <h3 class="h6 text-uppercase text-muted mb-2">Themes & polish</h3>
      <ul class="mb-0 text-secondary small ps-3">
        <li>Pick between <a href="https://catppuccin.com/" target="_blank" rel="noopener">Catppuccin</a> Latte, Mocha, Frappé, or Macchiato in the Preferences menu.</li>
        <li>The selection persists per-device; respects system dark mode until you override.</li>
        <li>Copy actions surface toast confirmations so you know the link was saved.</li>
      </ul>
    </div>
  </div>
</div>

<div class="row g-3 mb-4">
  <div class="col-lg-6 col-md-12">
    <div class="p-3 bg-white shadow-sm border rounded-3 h-100">
      <h3 class="h6 text-uppercase text-muted mb-2">Event capacity limits</h3>
      <ul class="mb-0 text-secondary small ps-3">
        <li>Some events include a maximum number of attendees.</li>
        <li>When that cap is reached, the Yes option is temporarily unavailable and you'll see a “full” note.</li>
        <li>You can still RSVP as Maybe or No; those do not reserve a seat.</li>
        <li>If space opens, the Yes choice reappears automatically and you can change your RSVP back.</li>
        <li>Maybe is just a signal—it does not hold a spot for you.</li>
        <li>A simple waitlist may be offered in the future; for now the flow stays predictable.</li>
        <li>Hosts can close RSVPs entirely (manually or on a schedule); existing guests can still edit or delete their entry.</li>
      </ul>
    </div>
  </div>
  <div class="col-lg-6 col-md-12">
    <div class="p-3 bg-white shadow-sm border rounded-3 h-100">
      <h3 class="h6 text-uppercase text-muted mb-2">Closing RSVPs</h3>
      <ul class="mb-0 text-secondary small ps-3">
        <li>The event owner view includes a “Close RSVPs” toggle—flip it any time to pause new submissions instantly.</li>
        <li>Set an optional auto-close time while editing an event and the system will flip the toggle for you once that timestamp passes.</li>
        <li>Times honor the timezone you entered for the event; behind the scenes they are stored in UTC so the close happens as soon as the backend sees that moment has passed.</li>
        <li>When closed, new guests see a clear message instead of the RSVP form, but anyone with an existing magic link can still edit or delete their entry.</li>
        <li>Reopen RSVPs by turning the toggle back off—scheduled close times clear automatically after they run so you can pick a new one.</li>
      </ul>
    </div>
  </div>
</div>

<div class="row g-3 mb-4">
  <div class="col-lg-6 col-md-12">
    <div class="p-3 bg-white shadow-sm border rounded-3 h-100">
      <h3 class="h6 text-uppercase text-muted mb-2">Add to Calendar (.ics)</h3>
      <p class="text-secondary small mb-2">Every event now includes an “Add to Calendar” button to download a universal .ics file.</p>
      <ul class="mb-2 text-secondary small ps-3">
        <li>Works on iPhone / iPad (Apple Calendar)</li>
        <li>Android Calendar</li>
        <li>Google Calendar (import)</li>
        <li>macOS Calendar</li>
        <li>Windows Outlook</li>
      </ul>
      <p class="text-secondary small mb-0"><strong>How it works:</strong> tap or click the file and your device offers to add the event directly to your calendar.</p>
    </div>
  </div>
</div>

<div class="p-4 bg-white border rounded-3 shadow-sm">
  <div class="row g-4">
    <div class="col-lg-6">
      <h3 class="h5 mb-3">Safety & privacy</h3>
      <ul class="text-secondary ps-3">
        <li>No accounts, emails, or analytics are stored. Magic links stay local to your device unless you share them.</li>
        <li>Hosts cannot change guest RSVPs—only guests can edit their own details.</li>
        <li>Private RSVPs hide from other guests; hosts still see full details.</li>
        <li>Events, RSVPs, and channels decay automatically unless they stay active.</li>
      </ul>
    </div>
    <div class="col-lg-6">
      <h3 class="h5 mb-3">Lifecycle & control</h3>
      <ul class="text-secondary ps-3">
        <li>Event owners can update event details, assign channels, delete RSVPs on request, or delete the entire event (removes all RSVPs).</li>
        <li>Hourly decay hides stale events; purged items cannot be restored. Root admin can trigger decay via CLI.</li>
        <li>Channel privacy is independent from events—set them separately to match your invite style.</li>
      </ul>
    </div>
  </div>
  {% set issues_url = repo_url ~ '/issues' %}
  <p class="text-muted small mb-2 mt-3">Need more? Reach out to your event owner directly—OpenRSVP never stores contact info.</p>
  <p class="text-muted small mb-0">Have feedback or spot a bug? <a class="link-secondary" href="{{ issues_url }}" target="_blank" rel="noopener">Open an issue on GitHub</a>.</p>
</div>
{% endblock %}
