{% extends "base.html" %}
{% block content %}
<h2>Event Created</h2>
{% set admin_url = request.url_for('event_admin', event_id=event.id, admin_token=event.admin_token) %}
{% set event_url = request.url_for('event_page', event_id=event.id) %}
{% if event.channel %}
{% set channel_url = request.url_for('channel_page', slug=event.channel.slug) %}
{% endif %}
<div class="row g-4">
  <div class="col-lg-6">
    <div class="card border-warning">
      <div class="card-body">
        <h3 class="h5 text-warning">Private admin link</h3>
        <p class="mb-2 small text-muted">Keep this secret. It grants full control over the event.</p>
        <div class="alert alert-warning mb-3">
          <a href="{{ admin_url }}">{{ admin_url }}</a>
        </div>
        <a class="btn btn-outline-primary w-100 mb-2" href="{{ admin_url }}">Open Admin Page</a>
        <div class="small text-muted">Anyone with this link can delete or edit the event.</div>
      </div>
    </div>
  </div>
  <div class="col-lg-6">
    <div class="card border-success">
      <div class="card-body">
        <h3 class="h5 text-success">Public RSVP link</h3>
        <p class="mb-2 small text-muted">Share this with guests so they can RSVP.</p>
        <div class="alert alert-success mb-3">
          <a href="{{ event_url }}">{{ event_url }}</a>
        </div>
        <a class="btn btn-success w-100" href="{{ event_url }}">View Event Page</a>
      </div>
    </div>
  </div>
</div>
<div class="mt-4">
  {% if channel_url %}
  <div class="alert alert-info mb-3">
    <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
      <div>
        <strong>Channel:</strong> {{ event.channel.name }}
        <span class="badge {% if event.channel.visibility == 'private' %}bg-dark{% else %}bg-primary{% endif %} ms-2 text-uppercase">
          {{ event.channel.visibility }}
        </span>
      </div>
      <a class="btn btn-outline-info btn-sm" href="{{ channel_url }}">Open channel page</a>
    </div>
    <small class="text-muted d-block mt-2">Share this only if you want guests browsing other events in the same channel.</small>
  </div>
  {% endif %}
  <a class="btn btn-secondary" href="/">Back to homepage</a>
</div>
{% endblock %}
